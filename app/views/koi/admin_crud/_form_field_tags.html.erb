<%
  klass         = f.object.class
  tag_list_name = attr.to_s.chomp('_list')

  tag_counts  = klass.tag_counts_on(tag_list_name)
  tag_counts += klass.tag_counts_on(tag_list_name.pluralize)
%>

<%= f.input attr,
            collection: tag_counts.map(&:name),
            wrapper_html: { class: "form--medium" },
            input_html: { multiple: true, data: { controller: "select2", tags: "true" } }
%>

<%= render "koi/admin_crud/form_field_collection_errors", f: f, attr: attr %>
