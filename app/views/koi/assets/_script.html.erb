<script type="text/javascript">
  $ (function() {

    $ ('.insert.asset.application').application (function (insertion)
    {
      var link = insertion.component ('.insert.asset.link');

      function getHref (arg)
      {
        return link.attr ('href');
      }

      function setHref (arg)
      {
        link.attr ('href', arg);
      }

      insertion.find ('input[type=radio]').each (function ()
      {
        var radio = $ (this);
        radio.change (function () { setHref (radio.data ('href')) });
      });

      link.click (function ()
      {
        window.close (getHref ()); return false;
      });

    });
  });
</script>
