<% resource = f.object %>

<% if Translation === resource %>
  <% resource.field_type ||= "string" %>
  <% resource.role ||= "Admin" %>
<% end %>

<%- resource.class.admin_attributes(:form).each do |attr| -%>

  <% if Translation === resource %>
    <% if resource.field_type == "images" %>
      <% next if attr == :value %>
    <% else %>
      <% next if attr == :images %>
    <% end %>

    <% unless current_admin.god? %>
      <% next if [:label, :key, :interpolations, :role, :field_type, :is_proc, :is_required, :hint].include? attr %>
    <% end %>
  <% end %>

  <%=
    assoc    = resource.class.reflect_on_association(attr)
    partial  = 'form_field'
    partial += '_nested' if assoc && !assoc.belongs_to? && assoc.is_nested?
    render partial, :f => f, :attr => attr
  %>
<%- end -%>
